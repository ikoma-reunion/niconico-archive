<?xml version="1.0" encoding="UTF-8"?>
<nicovideo_thumb_response status="ok"><thumb><video_id>sm45173201</video_id><title>Switch 2 のブラウザで動くように簡易プレーヤーを自作してニコニコ動画を見てみた</title><description>6/19〜6/21 の3日間で作ってだいたい動いたので飽きたやつを掘り出してきた。Switch 2 のブラウザは &amp;lt;video playsinline&amp;gt; でインライン再生ができる……ということは上にコメントを流すしかない。どこかからかどうにかして動画が使えるフラグがオンになった状態のブラウザを探してくる (Captive Portal で出てくるやつではできないらしい、ここでは省略) 必要があるので注意。Switch 1 と同様、明確にブラウザとしてブラウザを起動できるわけではないです。冒頭で出ている通り過去ログなので全体で1000個しかコメントが出てない(はず)ですが、もうちょっと多くても(コーナーケースを踏まなければ)30fpsくらいは安定して出るようです。やったこと:・ログイン状態を引き継ぐため、いい感じにパソコンのブラウザを通してニコニコと通信できるやつを開発 (元々別用途であったものを流用)・コメントの描画は基本的に https://github.com/xpadev-net/niconicomments 、ただし最後にコメントを canvas に全部描く部分が遅かったのでそこだけ DOM でやるやつを書いて差し替え (差し替えたらだいたいの場面で60fps出る、ごちうさ1羽冒頭とかでも30fpsは出る)・そのままだと sm34576729 と同じ理由でカクついたので同じ方法で対処・Switch 2 のブラウザの動画再生が Fragmented MP4 に対応してないので一旦変換サーバーを挟んでなんとかした (HLSには対応しているのだが……)いろんな都合で公開はできないのでご容赦を。フリースタンドだし画面でかいしで家の中で持ち運んで動画見るのに便利なので Switch 2 版公式で出してください(テキトーに作った自作のキャプボ録画アプリから撮って出しでアップロードしたらめっちゃ音ズレてたので再エンコして差し替えました)</description><thumbnail_url>https://nicovideo.cdn.nimg.jp/thumbnails/45173201/45173201.43739782</thumbnail_url><first_retrieve>2025-07-10T19:29:04+09:00</first_retrieve><length>4:04</length><movie_type>mp4</movie_type><size_high>1</size_high><size_low>1</size_low><view_counter>279</view_counter><comment_num>3</comment_num><mylist_counter>1</mylist_counter><last_res_body>ニコニコに売りつけろ PCでいうとどんく... 確か公式からのア...</last_res_body><watch_url>https://www.nicovideo.jp/watch/sm45173201</watch_url><thumb_type>video</thumb_type><embeddable>1</embeddable><no_live_play>0</no_live_play><tags domain="jp"><tag lock="1">Nintendo_Switch2</tag><tag lock="1">Switch2</tag><tag lock="1">niconicomments</tag><tag>ニコニコ技術部</tag></tags><genre>技術・工作</genre><user_id>51694632</user_id><user_nickname>りんすき</user_nickname><user_icon_url>https://secure-dcdn.cdn.nimg.jp/nicoaccount/usericon/5169/51694632.jpg?1694378894</user_icon_url></thumb></nicovideo_thumb_response>
